(function(f){typeof define==="function"?define("stylefix",f):f()})(function(require,exports,module){"use strict";!function(e,t){function n(){}function r(t,n){n=n||g;var r=[];for(var o in E){var c,i,a=e;if(e[o]){for(c=E[o].replace("*",o).split(".");(i=c.shift())&&(a=a[i]););if("function"==typeof a)try{if(r=a(t,n),r&&r.length)break}catch(s){}}}try{r=[].slice.call(r||n.querySelectorAll(t),0)}catch(s){}return r}function o(t,r,c){S=!1;var i,a,s,l,u,f,d=/^\w+:\/\/[^\/]+/;if(c=c||n,u=T[t])v(function(){r(u)},0);else if(l=M[t])l.push(r);else{M[t]=[r],i=b?new b:new ActiveXObject("Microsoft.XMLHTTP"),i.onreadystatechange=function(){4===i.readyState&&s()},s=function(){var e=i.responseText.replace(/(^\s+|\s+$)/g,"");e&&(!i.status||i.status<400||i.status>600)?(T[t]=e,M[t].forEach(function(t){t(e)})):c(i)};try{i.open("GET",t),i.send()}catch(y){x?(i=new x,i.onerror=c,i.onprogress=n,i.onload=s,i.open("GET",t),i.send()):(f=function(e){b=(a||e).XMLHttpRequest,o(t,r,c)},(a=e.mOxie)?f():require?require.async(["mOxie"],f):d.test(t)?o(t.replace(d,""),r,c):c(i))}}}function c(e,n){var r=e.textContent;return n===t?r||(e.textContent=e.innerText):(e.styleSheet&&n!==r&&(e.styleSheet.cssText=n),void(e.textContent=n))}function i(e,t){t=t||{};var n=e.replace(/[^\/]+$/,""),r=(/^[a-z]{3,10}:/.exec(n)||[""])[0],i=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(n)||[""])[0],a=/^([^?]*)\??/.exec(e)[1],s=t.callback,l=t.before;o(e,function(t){n&&(t=t.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,o){return/^([a-z]{3,10}:|#)/i.test(o)?e:/^\/\//.test(o)?'url("'+r+o+'")':/^\//.test(o)?'url("'+i+o+'")':/^\?/.test(o)?'url("'+a+o+'")':'url("'+n+o+'")'}));var o=n.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");t=t.replace(new RegExp("\\b(behavior:\\s*?url\\('?\"?)"+o,"gi"),"$1");var u=g.createElement("style");u.setAttribute("data-href",e),l&&l.parentNode?l.parentNode.insertBefore(u,l):g.documentElement.childNodes[0].appendChild(u),t=d(t,!0,u),c(u,t),s&&s(u)},function(){if(!l){var t=g.createElement("link");t.rel="stylesheet",t.href=e,g.documentElement.childNodes[0].appendChild(t)}})}function a(e){e["data-ignore"]||(e["data-ignore"]=!0,i(e.href,{callback:function(t){t.media=e.media,t.disabled=e.disabled},before:e}))}function s(e){var t=e.disabled;c(e,d(c(e),!0,e)),e.disabled=t}function l(e){var t,n;8>q?(t=e.style.cssText,n=d(t,!1,e),t!==n&&(e.style.cssText=n)):(t=e.getAttribute("style"),n=d(t,!1,e),t!==n&&e.setAttribute("style",n))}function u(){A.length?(r('link[rel="stylesheet"]').forEach(a),r("style").forEach(s),r("[style]").forEach(l)):v(u,50)}function f(e,n){A.splice(n===t?A.length:n,0,e)}function d(e,t,n){return A.forEach(function(r){e=r(e,t,n)||e}),e}function y(){h(function(){C.forEach(function(e){e()}),v(u,0)})}function h(t){function n(){w||(w=!0,t())}try{return $(n)}catch(r){}if(p())v(n,0);else if(g.addEventListener)g.addEventListener("DOMContentLoaded",n,!1);else{g.attachEvent("onreadystatechange",function(){p()&&n()});var o;try{o=!e.frameElement&&g.documentElement}catch(c){}o&&o.doScroll&&!function i(){if(!w){try{o.doScroll("left")}catch(e){return v(i,50)}n()}}()}}function p(){return/^(complete|interactive)$/.test(g.readyState)}var m,v=e.setTimeout,E={NW:"*.Dom.select",MooTools:"$$",DOMAssistant:"*.$",Prototype:"$$",YAHOO:"*.util.Selector.query",Sizzle:"*",jQuery:"*",dojo:"*.query"},g=e.document,x=e.XDomainRequest,b=e.XMLHttpRequest,q=g.querySelector?g.documentMode:"CSS1Compat"===g.compatMode?"XMLHttpRequest"in e?7:6:5,S=g.querySelector||x,T={},M={},C=[],A=[];f(function(e){return e.replace(/(\/\*[^*]*\*+([^\/][^*]*\*+)*\/)\s*?/g,"")});var w=!1;require&&![].filter?require.async(["es5-shim"],y):y(),m={query:r,get:o,cssContent:c,load:i,linkElement:a,styleElement:s,styleAttribute:l,ieVersion:q,process:u,register:f,fix:d,ready:function(e){w?e():C.push(e)}};try{module.exports=m}catch(L){e.stylefix=m}}(window);});