(function(f){typeof define==="function"?define("matchmedia",f):f()})(function(require,exports,module){"use strict";!function(e){function t(e){var t=o,i={matches:!1,media:e,addListener:function(e){l[t].listeners||(l[t].listeners=[]),e&&l[t].listeners.push(e)},removeListener:function(e){var i=l[t],n=0,r=0;if(i)for(r=i.listeners.length;r>n;n++)i.listeners[n]===e&&i.listeners.splice(n,1)}};return""===e?(i.matches=!0,i):(i.matches=m(e),o=l.push({mql:i,listeners:null}),i)}var i,n,r=e.stylefix||require("stylefix"),s=require("units"),a=e.document,l=[],o=0,c="",d={},h=/\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,u=/^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(\w+)?)?\s*\)\s*$/,m=function(e){var t=-1!==e.indexOf(",")&&e.split(",")||[e],i=t.length-1,n=i,r=null,a=null,l="",o=0,m=!1,p="",f="",x=null,g=0,v=0,y=null,w="",b="",q="",z="",C="",M=!1;if(""===e)return!0;do if(r=t[n-i],m=!1,a=r.match(h),a&&(l=a[0],o=a.index),!a||-1===r.substring(0,o).indexOf("(")&&(o||!a[3]&&l!==a.input))M=!1;else{if(f=r,m="not"===a[1],o||(p=a[2],f=r.substring(l.length)),M=p===c||"all"===p||""===p,x=-1!==f.indexOf(" and ")&&f.split(" and ")||[f],g=x.length-1,v=g,M&&g>=0&&""!==f)do{if(y=x[g].match(u),!y||!d[y[3]]){M=!1;break}if(w=y[2],b=y[5],z=b,q=y[7],C=d[y[3]],C=C.call?C():C,q&&(z=s.parse(b+q),z||(z="px"===q?Number(b):"dppx"===q?96*b:"dpcm"===q?.3937*b:Number(b))),M="min-"===w&&z?C>=z:"max-"===w&&z?z>=C:z?C===z:!!C,!M)break}while(g--);if(M)break}while(i--);return m?!M:M},p=function(){clearTimeout(n),n=setTimeout(function(){var t=null,i=o-1,n=i,r=!1;if(i>=0)do if(t=l[n-i],t&&(r=m(t.mql.media),r!==t.mql.matches&&(t.mql.matches=r,t.listeners)))for(var s=0,a=t.listeners.length;a>s;s++)t.listeners[s]&&t.listeners[s].call(e,t.mql);while(i--)},10)},f=function(){var t=a.getElementsByTagName("head")[0],n=a.createElement("style"),l=null,o=["screen","print","speech","projection","handheld","tv","braille","embossed","tty"],h=0,u=o.length,m="#mediamatchjs { position: relative; z-index: 0; }",f="",x=e.addEventListener||(f="on")&&e.attachEvent,g=function(){return s.innerWidth},v=function(){return s.innerHeight},y=e.screen,w=y.width,b=y.height,q=y.colorDepth,z=s.ratio;for(i=s.dpi,d["aspect-ratio"]=function(){return(g()/v()).toFixed(2)},d.orientation=function(){return v()>=g()?"portrait":"landscape"},d.msie=r.ieVersion,d.width=g,d.height=v,d["device-width"]=w,d["device-height"]=b,d["device-aspect-ratio"]=(w/b).toFixed(2),d.color=q,d["color-index"]=Math.pow(2,q),d.resolution=i,d["device-pixel-ratio"]=z,n.type="text/css",n.id="mediamatchjs",t.appendChild(n),l=e.getComputedStyle&&e.getComputedStyle(n)||n.currentStyle;u>h;h++)m+="@media "+o[h]+" { #mediamatchjs { z-index: "+h+" } }";n.styleSheet?n.styleSheet.cssText=m:n.textContent=m,c=o[1*l.zIndex||0],t.removeChild(n),x(f+"resize",p),x(f+"orientationchange",p)};f(),e.matchMedia||r.register(function(e,t){return t?e.replace(/@media\s+([^\{]+)/g,function(e,t){try{m(t)&&(e="@media all ")}catch(i){}return e}):void 0});var x=e.matchMedia||t;try{module.exports=x}catch(g){e.matchMedia||(e.matchMedia=x)}}(window);});